#!/bin/bash

export LD_LIBRARY_PATH=/usr/lib64:/usr/local/lib64:/home/sai/tools/lib64:.
export LIBPATH=${LD_LIBRARY_PATH}
export PATH=/public/anaconda2/bin:/home/sai/project/bin:/home/sai/project/sbin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/home/sai/bin:/public/anaconda2/bin:/home/sai/bin:/home/sai/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/mysql/bin

export PYTHONPATH=/home/sai/project/src/common:/home/sai/project/src:/usr/local/lib64/pkgconfig:/usr/lib64/pkgconfig:/usr/local/apr/lib/pkgconfig

export PHOME=/home/sai/project
export DATA=/home/sai/project/data
export LOG=/home/sai/project/log

export LANG=zh_CN.utf8


today=$(date +%Y%m%d)
log=${LOG}/AUTO_kday_${today}.out
err=${LOG}/AUTO_kday_${today}.err


exec 3>${log}
exec 4>${err}
exec 1>&3
exec 2>&4




#
# step. get  k-day data
cd ${PHOME}/src/dayend && time python k_day.py

# step. calc k-day tech
cd ${PHOME}/src/dayend && time python k_day_tech.py


# thrive.py -- three-five line @2017-9-3
cd ${PHOME}/src/thrive && time python thrive.py

# pre-thrive.py -- pre-three-five line @2017-9-5
cd ${PHOME}/src/pre_thrive && time python pre_thrive.py


# thrap.py -- three line with loop conditoin @2017-9-20
#cd ${PHOME}/src/thrap && time python thrap.py


# sao.py -- saohuo
cd ${PHOME}/src/decision && time python sao.py

# 2018 #
# wine -- wine-field
cd ${PHOME}/src/wine && time python myrun.py



## index  data 
# 2018-6-22 re-start
cd ${PHOME}/src/dayend && time python  k_index_day.py
cd ${PHOME}/src/report && time python  index.py


exec 3>&-
exec 4>&-

echo "shell: run kday succeeds."

#autokday
